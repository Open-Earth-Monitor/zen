
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>dataset module &#8212; zen  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="metadata module" href="metadata.html" />
    <link rel="prev" title="api module" href="api.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-zen.dataset">
<span id="dataset-module"></span><h1>dataset module<a class="headerlink" href="#module-zen.dataset" title="Permalink to this heading">¶</a></h1>
<p>This module provides a convenient way to programmatically work with Zenodo, facilitating the
publication and management of research data on this platform. Researchers can create datasets,
associate local files, upload data to Zenodo, and keep the dataset metadata up-to-date, all
using Python code. This can streamline the process of sharing research data and integrating
it with Zenodo’s services.</p>
<p class="rubric">Examples</p>
<p>Make sure to run the examples in Zenodo’s sandbox:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import Dataset and Zenodo classes</span>
<span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span><span class="p">,</span> <span class="n">Zenodo</span>

<span class="c1"># Add local files to the dataset</span>
<span class="n">local_file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">]</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">(</span><span class="n">local_file_paths</span><span class="p">,</span> <span class="n">dataset_path</span><span class="o">=</span><span class="s1">&#39;examples/dataset.json&#39;</span><span class="p">)</span>

<span class="c1"># Setup a Zenodo deposition for the dataset. If there is no deposition</span>
<span class="c1"># associated with dataset, creates a new one. You can also pass an existing</span>
<span class="c1"># deposition to associate with your local files dataset.</span>
<span class="c1"># Replace `token` by your actual access token.</span>
<span class="n">zen</span> <span class="o">=</span> <span class="n">Zenodo</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">Zenodo</span><span class="o">.</span><span class="n">sandbox_url</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;your_access_token&#39;</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">set_deposition</span><span class="p">(</span><span class="n">api</span><span class="o">=</span><span class="n">zen</span><span class="p">,</span> <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="c1"># The LocalFiles object is a container for local files</span>
<span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>  <span class="c1"># Number of files in the dataset</span>
<span class="n">ds</span><span class="o">.</span><span class="n">storage_size</span>
<span class="n">ds</span><span class="o">.</span><span class="n">filenames</span>  <span class="c1"># Show the list of file names</span>
<span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Access the first local file in the dataset</span>

<span class="c1"># Accessing the deposition associated with your local files</span>
<span class="n">dep</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">deposition</span>
<span class="n">dep</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># Dictionary representing Zenodo Deposition raw data</span>
<span class="n">dep</span><span class="o">.</span><span class="n">id</span>  <span class="c1"># Deposition ID</span>
<span class="n">dep</span><span class="o">.</span><span class="n">files</span>  <span class="c1"># DepositionFiles class to interact with remote files</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span>  <span class="c1"># Metadata class to interact with deposition metadata</span>

<span class="c1"># Upload the local files not already uploaded to Zenodo</span>
<span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

<span class="c1"># To open the dataset in a later Python session, use `from_file()` method</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s1">&#39;examples/dataset.json&#39;</span><span class="p">)</span>

<span class="c1"># If some local files has been changed, `upload()` method will detect it.</span>
<span class="c1"># It uploads just those local files not updated in Zenodo.</span>
<span class="c1"># Calling `set_deposition()` method again just retrieves the existing deposition</span>
<span class="c1"># already linked to the current dataset from Zenodo.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">set_deposition</span><span class="p">(</span><span class="n">api</span><span class="o">=</span><span class="n">zen</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

<span class="c1"># Adding additional files to the dataset</span>
<span class="n">new_local_file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;./examples/file3.csv&#39;</span><span class="p">]</span>
<span class="n">ds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_local_file_paths</span><span class="p">)</span>

<span class="c1"># Save to persist changes in local dataset</span>
<span class="n">ds</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="c1"># Interacting with files in Zenodo</span>
<span class="n">dep</span><span class="o">.</span><span class="n">files</span>  <span class="c1"># Access API endpoints to interact with files</span>
<span class="n">dep</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;./examples/file3.csv&#39;</span><span class="p">)</span>  <span class="c1"># Upload a new file</span>
<span class="c1"># The above code does not produce any side effect in ds dataset</span>
<span class="n">dep</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>  <span class="c1"># Refresh deposition object to reflect Zenodo files</span>

<span class="c1"># Lists all modified local files or not uploaded to Zenodo deposition</span>
<span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">ds</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dep</span><span class="p">]</span>

<span class="c1"># Lists all files in Zenodo deposition not present in the local dataset</span>
<span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">dep</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ds</span><span class="p">]</span>

<span class="c1"># Upload only new/modified files to Zenodo deposition</span>
<span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

<span class="c1"># Delete a file from Zenodo deposition</span>
<span class="c1"># This does not affect the local files dataset</span>
<span class="n">dep</span><span class="o">.</span><span class="n">files</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="n">dep</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

<span class="c1"># Update the deposition metadata</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">upload_type</span> <span class="o">=</span> <span class="s1">&#39;dataset&#39;</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;My title&#39;</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;My description&#39;</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">creators</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">creators</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;Doe, John&#39;</span><span class="p">,</span> <span class="s1">&#39;Zenodo&#39;</span><span class="p">)</span>
<span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">license</span> <span class="o">=</span> <span class="s1">&#39;cc-by-4.0&#39;</span>
<span class="n">dep</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

<span class="c1"># Interacting with Zenodo deposition</span>
<span class="c1"># Discard any edition in the deposition from Zenodo</span>
<span class="c1"># If the deposition is not published, delete it from Zenodo</span>
<span class="n">dep</span><span class="o">.</span><span class="n">discard</span><span class="p">()</span>
<span class="c1"># Publish the deposition</span>
<span class="c1"># After publication, you cannot add, remove, or update any files</span>
<span class="n">dep</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span>
<span class="c1"># Create a new version of the deposition to add more files</span>
<span class="n">dep</span><span class="o">.</span><span class="n">new_version</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Before using this submodule, make sure you have a valid Zenodo account and access token.</p></li>
<li><p>Always refer to the Zenodo API documentation for detailed information about available
endpoints and parameters.</p></li>
<li><p>For more information, visit: <a class="reference external" href="https://developers.zenodo.org/">https://developers.zenodo.org/</a></p></li>
</ul>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="zen.dataset.BaseFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zen.dataset.</span></span><span class="sig-name descname"><span class="pre">BaseFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.BaseFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Base Class for Representing Files with Associated Metadata.</p>
<p>This class represents a file, whether it’s local or remote, and includes associated metadata.
It serves as the foundation for the LocalFile and ZenodoFile classes.</p>
<p>The <cite>BaseFile</cite> class is designed to encapsulate file-related information and metadata. It can
be instantiated with either a dictionary representing file information or a file path as a
string. When given a file path, it automatically extracts the filename and creates download
links. For dictionary input, the required ‘filename’ and ‘links’ entries must be present.</p>
<p>Subclasses of <cite>BaseFile</cite> provide specific functionality for handling local and remote files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>Union</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>,</em><em>str</em><em>]</em>) – The dictionary representing a file or a file path.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.checksum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">checksum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.BaseFile.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>The checksum value of the file, if available.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.filedate">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filedate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.BaseFile.filedate" title="Permalink to this definition">¶</a></dt>
<dd><p>The last modification date of the file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.filename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filename</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.BaseFile.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>The base name of the file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.filesize">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filesize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.BaseFile.filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the file in bytes.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.is_local">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_local</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#zen.dataset.BaseFile.is_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the file is stored locally (on the user’s machine).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.is_remote">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_remote</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#zen.dataset.BaseFile.is_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the file is stored remotely (accessible via a URL).</p>
<p>The supported URL schemas are defined in <cite>utils.valid_schemas</cite> variable.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">links</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.BaseFile.links" title="Permalink to this definition">¶</a></dt>
<dd><p>Links to various aspects of the file, such as download links.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.BaseFile.url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.BaseFile.url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to access the file data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zen.dataset.Deposition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zen.dataset.</span></span><span class="sig-name descname"><span class="pre">Deposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="api.html#zen.api.Zenodo" title="zen.api.Zenodo"><span class="pre">Zenodo</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.Deposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseDataset</span></code></p>
<p>Represents a Zenodo Deposition.</p>
<p>This class defines a Zenodo deposition, providing methods to create, retrieve, and interact with
specific Zenodo depositions using the Zenodo API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api</strong> (<a class="reference internal" href="api.html#zen.api.Zenodo" title="zen.api.Zenodo"><em>Zenodo</em></a>) – The Zenodo instance used to interact with Zenodo API.</p></li>
<li><p><strong>data</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em>) – The deposition data, including ‘id’, ‘metadata’, ‘files’,
and ‘links’ entries.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic simple">
<li><p>Create a new Zenodo deposition:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">Zenodo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zen</span> <span class="o">=</span> <span class="n">Zenodo</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">Zenodo</span><span class="o">.</span><span class="n">sandbox_url</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;your_api_token&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;My New Deposition&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;A test deposition for demonstration purposes.&#39;</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span> <span class="o">=</span> <span class="n">zen</span><span class="o">.</span><span class="n">depositions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">meta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dep</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>  <span class="c1"># print the deposition id</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Retrieve an existing Zenodo deposition by id:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">deposition_id</span> <span class="o">=</span> <span class="n">dep</span><span class="o">.</span><span class="n">id</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">existing_dep</span> <span class="o">=</span> <span class="n">zen</span><span class="o">.</span><span class="n">depositions</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">deposition_id</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Modifying deposition metadata</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;New Deposition Title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">access_right</span><span class="o">.</span><span class="n">set_open</span><span class="p">(</span><span class="s1">&#39;cc-by&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>  <span class="c1"># Commit changes</span>
</pre></div>
</div>
<p>Discard the deposition example.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">discard</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.api">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">api</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="api.html#zen.api.Zenodo" title="zen.api.Zenodo"><span class="pre">Zenodo</span></a></em><a class="headerlink" href="#zen.dataset.Deposition.api" title="Permalink to this definition">¶</a></dt>
<dd><p>The Zenodo object to interact with Zenodo API.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.concept_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">concept_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.Deposition.concept_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The concept ID of the deposition, or None if not available.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.Deposition.data" title="Permalink to this definition">¶</a></dt>
<dd><p>The data of the deposition as represented by Zenodo.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the deposition from Zenodo.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.discard">
<span class="sig-name descname"><span class="pre">discard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard any edition of the deposition on Zenodo.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current Deposition object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition">Deposition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.doi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">doi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.Deposition.doi" title="Permalink to this definition">¶</a></dt>
<dd><p>The DOI of the deposition, or None if not available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.edit">
<span class="sig-name descname"><span class="pre">edit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.edit" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the deposition to the ‘edit’ state on Zenodo.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current Deposition object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition">Deposition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zen.dataset.DepositionFiles" title="zen.dataset.DepositionFiles"><span class="pre">DepositionFiles</span></a></em><a class="headerlink" href="#zen.dataset.Deposition.files" title="Permalink to this definition">¶</a></dt>
<dd><p>The files of the deposition.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#zen.dataset.Deposition.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the deposition.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.is_editing">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_editing</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#zen.dataset.Deposition.is_editing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the deposition is currently in an editing state.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.is_published">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_published</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#zen.dataset.Deposition.is_published" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the deposition was already published.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#zen.metadata.Metadata" title="zen.metadata.Metadata"><span class="pre">Metadata</span></a></em><a class="headerlink" href="#zen.dataset.Deposition.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>The metadata of the deposition.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.new_version">
<span class="sig-name descname"><span class="pre">new_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.new_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new version of the deposition on Zenodo.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The new version of the current Deposition object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition">Deposition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.publish">
<span class="sig-name descname"><span class="pre">publish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish the deposition on Zenodo.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current Deposition object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition">Deposition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.refresh">
<span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh the Deposition Data from Zenodo.</p>
<p>This method sends a request to the Zenodo API to fetch the most up-to-date details
about the deposition, including metadata, files, and links. It then updates the
current Deposition object with the refreshed data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current refreshed Deposition object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition">Deposition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.Deposition.title">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.Deposition.title" title="Permalink to this definition">¶</a></dt>
<dd><p>The title of the deposition.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.Deposition.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#zen.metadata.Metadata" title="zen.metadata.Metadata"><span class="pre">Metadata</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.Deposition.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the metadata of the deposition on Zenodo.</p>
<p>This method allows you to update the metadata of the deposition on the Zenodo platform.
You can provide new metadata as a dictionary. If no metadata is provided, the existing
metadata of the deposition will be used. The replacement argument is used to render
the metadata before updating. For more details, see <cite>Metadata.render()</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference internal" href="metadata.html#zen.metadata.Metadata" title="zen.metadata.Metadata"><em>Metadata</em></a><em>,</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>]</em><em>]</em><em>=None</em>) – The new metadata to update
the deposition.</p></li>
<li><p><strong>replacements</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>]</em><em>=None</em>) – A dictionary of placeholder replacements.
If not provided, an empty dictionary is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current Deposition object with updated metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition">Deposition</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zen.dataset.</span></span><span class="sig-name descname"><span class="pre">DepositionFiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deposition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><span class="pre">Deposition</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.DepositionFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_FileDataset</span></code></p>
<p>Represents the files associated with a Zenodo deposition.</p>
<p>This class provides methods for managing files, such as listing and refreshing files, creating
and deleting files, and querying specific files within the deposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deposition</strong> (<a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><em>Deposition</em></a>) – The Deposition object to which these files are associated.</p></li>
<li><p><strong>files</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>Dict</em><em>,</em><em>str</em><em>]</em><em>]</em><em>=None</em>) – Optional initial list of file data or file paths
(default is None).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.DepositionFiles.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a file to the deposition on the Zenodo API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – The local file path of the file to upload.</p></li>
<li><p><strong>bucket_filename</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The desired filename for the file in the
deposition’s bucket.</p></li>
<li><p><strong>progress</strong> (<em>bool=True</em>) – Whether to display a progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.DepositionFiles" title="zen.dataset.DepositionFiles">DepositionFiles</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#zen.dataset.ZenodoFile" title="zen.dataset.ZenodoFile"><span class="pre">ZenodoFile</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.DepositionFiles.data" title="Permalink to this definition">¶</a></dt>
<dd><p>List of files stored by the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#zen.dataset.ZenodoFile" title="zen.dataset.ZenodoFile"><span class="pre">ZenodoFile</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zen.dataset.DepositionFiles.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a file of the Zenodo deposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<a class="reference internal" href="#zen.dataset.ZenodoFile" title="zen.dataset.ZenodoFile"><em>ZenodoFile</em></a>) – The file to be deleted from Zenodo.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles.index">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#zen.dataset.ZenodoFile" title="zen.dataset.ZenodoFile"><span class="pre">ZenodoFile</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.DepositionFiles.index" title="Permalink to this definition">¶</a></dt>
<dd><p>List of files stored by the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles.list">
<span class="sig-name descname"><span class="pre">list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.DepositionFiles.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists and refresh the file list of the Zenodo deposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of files of the Zenodo deposition.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.DepositionFiles" title="zen.dataset.DepositionFiles">DepositionFiles</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.DepositionFiles.storage_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">storage_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#zen.dataset.DepositionFiles.storage_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total data size of the files.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zen.dataset.LocalFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zen.dataset.</span></span><span class="sig-name descname"><span class="pre">LocalFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.LocalFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zen.dataset.BaseFile" title="zen.dataset.BaseFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseFile</span></code></a></p>
<p>Represents a local file within a Dataset.</p>
<p>This class represents a local file that is part of a dataset. It extends the functionality of
the <cite>BaseFile</cite> class to provide methods for updating file metadata, uploading the file to a
Zenodo deposition, and managing local files.</p>
<p>The <cite>LocalFile</cite> class is specifically designed to represent and manage local files within a
dataset. It inherits the core functionality from the <cite>BaseFile</cite> class and can be instantiated
with either a dictionary representing file information or a file path as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>Union</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>, </em><em>str</em><em>]</em>) – The file information or file path. If the last component
of the provided path (i.e. the basename of the path) identifies the file uniquely, the
path can be passed as a path string, otherwise the file have to be passed as a
dictionary.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen.dataset</span> <span class="kn">import</span> <span class="n">LocalFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local_file</span> <span class="o">=</span> <span class="n">LocalFile</span><span class="p">(</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local_file</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">()</span>  <span class="c1"># Get the file date and size</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">local_file</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
<span class="go">file1.csv</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.checksum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">checksum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.LocalFile.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>The checksum value of the file, if available.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.filedate">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filedate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.LocalFile.filedate" title="Permalink to this definition">¶</a></dt>
<dd><p>The last modification date of the file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.filesize">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filesize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.LocalFile.filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the file in bytes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.parse_template">
<span class="sig-name descname"><span class="pre">parse_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#zen.dataset.LocalFile.parse_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses and extract properties from file name.</p>
<p>Parses the filename using a string template. Any template substring passed outside
curly braces have to match exactly that portion on the filename. The template strings
inside curly braces, i.e., string placeholders, have to match at least one character
in the filename. A template matches a filename when all characters of the filename
matches the template substrings and placeholders at the same exact order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>template</strong> (<em>str</em>) – The template used to parse the filename and extract file properties.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the parsed properties.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.placeholders">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">placeholders</span></span><a class="headerlink" href="#zen.dataset.LocalFile.placeholders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">properties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.LocalFile.properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional properties or metadata associated with the file.</p>
<p>This is mainly used to store values used in file template expansion.
For more details, please, see <cite>LocalFiles.expand()</cite> method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile"><span class="pre">LocalFile</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zen.dataset.LocalFile.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update current file metadata with metadata from other file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile"><em>LocalFile</em></a>) – The file from which values will be taken to merge.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – if merging files have not the same filename</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.update_metadata">
<span class="sig-name descname"><span class="pre">update_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zen.dataset.LocalFile.update_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current file metadata.</p>
<p>Retrieves and updates the file’s metadata, such as size and modification date.
It automatically detects whether the file is stored locally or accessible remotely via URL.
If file size or file last modification date change, the checksum is erased and a new
one will be recomputed during upload.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if the file is not accessible.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deposition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><span class="pre">Deposition</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.LocalFile.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads the local file to a Zenodo deposition.</p>
<p>Uploads the local file to a Zenodo deposition, updating its metadata in the process. If the
file is remote, it will be temporarily downloaded for uploading. The checksum is calculated
before upload, and the file’s metadata is updated accordingly. If parameter <cite>force</cite> is
<cite>False</cite>, this method will not upload if the file is already present in the deposition with
the same checksum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deposition</strong> (<a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><em>Deposition</em></a>) – The deposition to where upload the file.</p></li>
<li><p><strong>progress</strong> (<em>bool=True</em>) – Whether to display a progress bar. Defaults to True.</p></li>
<li><p><strong>force</strong> (<em>bool=False</em>) – Should the file be uploaded regardless it already been uploaded?</p></li>
<li><p><strong>max_retries</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of retry attempts if the upload fails.
Defaults to 15.</p></li>
<li><p><strong>min_delay</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum delay in seconds between retry attempts.
Defaults to 10 seconds.</p></li>
<li><p><strong>max_delay</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum delay in seconds between retry attempts.
Defaults to 60 seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The uploaded file with its updated metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile">LocalFile</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFile.url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.LocalFile.url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to access the file data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zen.dataset.</span></span><span class="sig-name descname"><span class="pre">LocalFiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.LocalFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_FileDataset</span></code></p>
<p>Represents a dataset associating local files to a Zenodo deposition.</p>
<p>This class provides methods for creating, updating, and managing local and Zenodo datasets.
As your local dataset changes, this class simplifies the process of updating and maintaining
it on Zenodo. You can quickly push updates without manually managing the complexities of
Zenodo’s API.</p>
<p>The <cite>LocalFiles</cite> class provides access to the local files associated with the dataset. It
can be initialized with a list of local files or a template file name that can be expanded
into a set of file paths using string placeholders. During template expansion, properties
are extracted from the filenames and stored in the respective file in the ‘properties’ key.
Call <cite>save()</cite> method to make sure that any local update is saved in the dataset JSON file.</p>
<p>The <cite>deposition</cite> property represents the Zenodo deposition associated with the dataset. It
provides access to the Zenodo deposition object for the dataset, which is important for
managing the dataset on the Zenodo platform. After creating a new dataset, you can bind it
to a specific Zenodo deposition using <cite>set_deposition()</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>Union</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>,</em><em>str</em><em>]</em><em>]</em><em>]</em><em>=None</em>) – The list of local files or
file paths.</p></li>
<li><p><strong>template</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The filename template to extract properties from the list
of file names.</p></li>
<li><p><strong>dataset_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The filename of the dataset.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<ol class="arabic simple">
<li><p>Create a local dataset:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">Zenodo</span><span class="p">,</span> <span class="n">LocalFiles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local_file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">(</span><span class="n">local_file_paths</span><span class="p">,</span> <span class="n">dataset_path</span><span class="o">=</span><span class="s1">&#39;examples/dataset.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>2. Create or retrieve a deposition
&gt;&gt;&gt; zen = Zenodo(url=Zenodo.sandbox_url, token=’your_api_token’)
&gt;&gt;&gt; ds.set_deposition(api=zen, create_if_not_exists=True)
&gt;&gt;&gt; dep = ds.deposition</p>
<p>At the first run, this will create the deposition. After that it
just load saved deposition from local dataset file.</p>
<ol class="arabic simple" start="3">
<li><p>Save to a file:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Upload files to Zenodo deposition</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>  <span class="c1"># upload files</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Add and upload additional files</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="s1">&#39;examples/file3.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>  <span class="c1"># upload just new/modified files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># upload everything again</span>
</pre></div>
</div>
<p>Discard the deposition example.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">discard</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or Update Files in the Current Dataset.</p>
<p>This method allows you to add new files to the current dataset. If a file with the same name
already exists, it will be updated in the dataset. You can also provide a filename template
to extract properties from the list of filenames.</p>
<p>The <cite>add()</cite> method is used to add new files to the current dataset. If any of the provided
files have the same name as an existing file in the dataset, the existing file is updated
with the new data.</p>
<p>You can also specify a <cite>template</cite> to extract properties from the filenames in the list. This
template is used to associate properties with the respective files in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>,</em><em>str</em><em>]</em><em>]</em>) – The list of files to be added.</p></li>
<li><p><strong>template</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The filename template to extract properties from the list
of filenames.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with the added or updated files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">([</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file3.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_file_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_file_list</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="s1">&#39;file</span><span class="si">{index}</span><span class="s1">.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.dataset_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zen.dataset.LocalFiles.dataset_path" title="Permalink to this definition">¶</a></dt>
<dd><p>File path of the current dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.deposition">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deposition</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><span class="pre">Deposition</span></a></em><a class="headerlink" href="#zen.dataset.LocalFiles.deposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Deposition associated with the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand the Placeholders in the Dataset.</p>
<p>This method expands the dataset by replacing placeholders in the filenames (templates) with
provided keyword arguments. Placeholders are special tokens enclosed in curly braces within
the template string, e.g., ‘{placeholder}’. They represent values that can vary, and by
replacing them with specific values, you can generate a list of files in the dataset.</p>
<p>The <cite>expand()</cite> method is used to replace placeholders in the dataset with provided values,
effectively creating multiple versions of the dataset. Placeholders are identified by their
names and should match the keyword arguments provided. If more than one keyword arguments
is passed at same time, the expansion is done simultaneously using the first value of each
argument, then the second value, and so on. Hence, the number of expanded files is the same
as the length of values passed to a keyword argument. In this case, all keywords arguments
must have the same length of values.</p>
<p>By calling the <cite>expand()</cite> method multiple times with different sets of values for the
placeholders, you take a different approach. Instead of simultaneous expansion, this method
focuses on exploring all possible combinations of values for each placeholder. In other
words, each time you invoke <cite>expand()</cite>, it systematically combines the values you provide
for the placeholders to create a unique set of filenames for the dataset. Once all
placeholders in the filename templates are expanded, you arrive at the list of unique files
within the dataset. At this point, further expansion is no longer possible.</p>
<p>The <cite>expand()</cite> method is a versatile tool for customizing filenames in the dataset and to
associate properties to each file. All expanded placeholder becomes a property in the file
object. A list of all properties can be seen by <cite>properties</cite> class member.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – Keyword arguments that represent the values used to replace placeholders in
the file template. Each keyword argument should correspond to a placeholder in the
file template, and the value should be a list of replacement values. When providing
multiple keyword arguments, all of them must have the same number of elements to
ensure consistent replacement across all placeholders.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If there are no placeholders to be expanded or if a placeholder is
    not found.</p></li>
<li><p><strong>ValueError</strong> – If input lists have different lengths.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The expanded LocalFiles object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic simple">
<li><p>Simultaneously Expanding Placeholders:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;file</span><span class="si">{index}</span><span class="s1">_</span><span class="si">{year}</span><span class="s1">.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1990&#39;</span><span class="p">,</span> <span class="s1">&#39;2000&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple files: &#39;file10_1990.csv&#39;, &#39;file20_2000.csv&#39;, ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Sequentially Expanding Placeholders:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple files: &#39;file10_{year}.csv&#39;, &#39;file20_{year}.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># applies each value to each previously expanded list.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1990&#39;</span><span class="p">,</span> <span class="s1">&#39;2000&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple files: &#39;file10_1990.csv&#39;, &#39;file20_1990.csv&#39;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     &#39;file10_2000.csv&#39;, &#39;file20_2000.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.filenames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filenames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.LocalFiles.filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>List with all file names in the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile"><span class="pre">LocalFile</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles"><span class="pre">LocalFiles</span></a></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter Files Based on Custom Criteria.</p>
<p>This method filters the files in the dataset based on a filter function (<cite>fn_filter</cite>). Any
modifications made to the files using the <cite>fn_filter</cite> function will not have a side effect on
the resulting dataset.</p>
<p>The <cite>filter()</cite> method allows you to filter files in the dataset based on custom criteria.
The filter function receives as argument the files to be tested from the current object. If
the function returns True, the file will be in the returned dataset, otherwise the file will
be removed from the returned dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fn_filter</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile"><em>LocalFile</em></a><em>]</em><em>, </em><em>bool</em><em>]</em>) – A matching criteria function
that determines whether a file matches the filter or not. The function must be able
to receive one argument, a file from the object being filtered, and return a boolean.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with the filtered files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">custom_filter</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">file</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">filesize</span> <span class="o">&gt;</span> <span class="mi">34250</span>  <span class="c1"># Only keep files larger than ~34 KB.</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">([</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filtered_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">custom_filter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered_ds</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles"><span class="pre">LocalFiles</span></a></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the dataset metadata.</p>
<p>Loads the deposition and the local files metadata on a local file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_path</strong> (<em>str</em>) – The filename to read the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new object with the dataset loaded from file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s1">&#39;examples/dataset.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">filenames</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.from_template">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.from_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a New Dataset Based on a File Name Template.</p>
<p>This method imports files to the current dataset based on a provided file name template. The
template is expanded into a list of files, and these files are associated with the current
dataset.</p>
<p>The <cite>from_template()</cite> method allows you to create a dataset using a file name template.
This template is used to generate a list of files that are then associated with the current
dataset.</p>
<p>Placeholders within the template, enclosed in curly braces (e.g., ‘{index}’), are replaced
with specific values, allowing you to create a set of files with structured names. For
example, if the template is ‘file{index}.csv’, expanding it, for example, calling
<cite>expand(index=list(range(12)))</cite> would result in file names like ‘file0.csv’, ‘file1.csv’, …
and ‘file11.csv’. After expansion, each expanded placeholder value is stored in ‘properties’
key entry of each file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<em>str</em>) – The file name template to be expanded as a list of files.</p></li>
<li><p><strong>dataset_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The filename of the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="s1">&#39;file</span><span class="si">{index}</span><span class="s1">_</span><span class="si">{year}</span><span class="s1">.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">placeholders</span><span class="p">)</span>
<span class="go">{&#39;index&#39;, &#39;year&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="s1">&#39;2020&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_FileDataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_unmatched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge Files into the Current Dataset.</p>
<p>This method merges files from another dataset into the current dataset. You can choose to
remove unmatched files from the current dataset.</p>
<p>The <cite>merge()</cite> method allows you to merge files from another dataset (<cite>other</cite>) into the
current dataset. If a file with the same name already exists in the current dataset, it
will be updated with the data from the other dataset.</p>
<p>You can choose to remove unmatched files from the current dataset by setting <cite>remove_unmatched</cite>
to <cite>True</cite>. This means that any files in the current dataset that do not exist in the <cite>other</cite>
dataset will be removed.</p>
<p>If there are placeholders in the dataset that have not been evaluated, merging will not be
allowed. Use the <cite>expand()</cite> function to expand placeholders before merging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> (<em>_FileDataset</em>) – The _FileDataset object from witch files have to be imported.</p></li>
<li><p><strong>remove_unmatched</strong> (<em>bool=False</em>) – Should the unmatched files in the current dataset be
removed?</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with the new imported/updated/deleted files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">([</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">([</span><span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file3.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">other_ds</span><span class="p">,</span> <span class="n">remove_unmatched</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.modify_url">
<span class="sig-name descname"><span class="pre">modify_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn_modifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.modify_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify URLs in the dataset using various methods.</p>
<p>You can modify URLs in one of the following ways:</p>
<ul class="simple">
<li><p>Using a modifier function: Pass a function (<cite>fn_modifier</cite>) that takes a URL as input and
returns a modified URL.</p></li>
<li><p>Adding a prefix: Use the <cite>prefix</cite> parameter to insert a common prefix at the beginning
of each URL.</p></li>
<li><p>Adding a suffix: Utilize the <cite>suffix</cite> parameter to append a common suffix at the end of
each URL.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn_modifier</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>str</em><em>]</em><em>,</em><em>str</em><em>]</em><em>]</em><em>=None</em>) – A function to modify URLs. If not
provided, URLs remain unchanged.</p></li>
<li><p><strong>prefix</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The prefix to insert at the beginning of URLs.</p></li>
<li><p><strong>suffix</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The suffix to insert at the end of URLs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The current LocalFiles with updated URLs based on the</dt><dd><p>specified modifications.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">([</span><span class="s1">&#39;file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;file2.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">modify_url</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;http://example.com/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This adds the prefix ‘<a class="reference external" href="https://example.com/">https://example.com/</a>’ to the beginning of all URLs in the dataset.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">custom_modifier</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;http://&#39;</span><span class="p">,</span> <span class="s1">&#39;https://&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">modify_url</span><span class="p">(</span><span class="n">fn_modifier</span><span class="o">=</span><span class="n">custom_modifier</span><span class="p">)</span>
</pre></div>
</div>
<p>This example modifies all URLs in the dataset by replacing ‘<a class="reference external" href="http://">http://</a>’ with ‘<a class="reference external" href="https://">https://</a>’.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">modify_url</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;/download&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This appends the suffix ‘/download’ to the end of all URLs in the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.placeholders">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">placeholders</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.LocalFiles.placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>List of the placeholders given in the file name template.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">properties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zen.dataset.LocalFiles.properties" title="Permalink to this definition">¶</a></dt>
<dd><p>List with all properties present in the dataset’s files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.LocalFiles.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove Files in the Current Dataset.</p>
<p>This method allows you to remove files from the current dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em>) – The index of the file to be removed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with the removed file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">([</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file3.csv&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles"><span class="pre">LocalFiles</span></a></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the dataset metadata.</p>
<p>Saves the deposition and the local files metadata on a local file to be loaded
later using <cite>LocalFiles.from_file()</cite> class method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The filename to save the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current dataset object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span><span class="p">,</span> <span class="n">Zenodo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local_file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;examples/file2.csv&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="p">(</span><span class="n">local_file_paths</span><span class="p">,</span> <span class="n">dataset_path</span><span class="o">=</span><span class="s1">&#39;examples/dataset.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.set_dataset_path">
<span class="sig-name descname"><span class="pre">set_dataset_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.LocalFiles.set_dataset_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dataset file path.</p>
<p>Set the dataset JSON file to persist the dataset’s metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_path</strong> (<em>str</em>) – The filename of the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current dataset with the updated dataset file path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.set_deposition">
<span class="sig-name descname"><span class="pre">set_deposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="api.html#zen.api.Zenodo" title="zen.api.Zenodo"><span class="pre">Zenodo</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#zen.metadata.Metadata" title="zen.metadata.Metadata"><span class="pre">Metadata</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deposition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><span class="pre">Deposition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_if_not_exists</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><span class="pre">Deposition</span></a></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.set_deposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dataset deposition.</p>
<p>Set the deposition of the dataset. If the dataset has no linked deposition, the <cite>deposition</cite>
parameter is <cite>None</cite> and the <cite>create_if_not_exists</cite> parameter is <cite>True</cite>, it creates a
new deposition. The linked deposition is saved into dataset file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api</strong> (<a class="reference internal" href="api.html#zen.api.Zenodo" title="zen.api.Zenodo"><em>Zenodo</em></a>) – Zenodo object to access Zenodo’s API.</p></li>
<li><p><strong>metadata</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>MetaGeneric</em><em>,</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>]</em><em>]</em><em>=None</em>) – The metadata for the new
deposition. Ignored if <cite>deposition</cite> is informed or the dataset already has a
deposition.</p></li>
<li><p><strong>deposition</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><em>Deposition</em></a><em>,</em><em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>,</em><em>int</em><em>]</em><em>]</em><em>=None</em>) – An existing deposition
to bind with the current dataset.</p></li>
<li><p><strong>create_if_not_exists</strong> (<em>bool=False</em>) – If there is no deposition linked to the current
dataset, it creates a new deposition on Zenodo. Ignored if <cite>deposition</cite> parameter
is informed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current dataset with the updated deposition.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zen.dataset.LocalFiles" title="zen.dataset.LocalFiles">LocalFiles</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the dataset already has an deposition and a different deposition has
    been passed to the function.</p></li>
<li><p><strong>ValueError</strong> – If the dataset does not have a deposition, no deposition has been passed
    to <cite>deposition</cite> parameter, and parameter <cite>create_if_not_exists</cite> is <cite>False</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.storage_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">storage_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#zen.dataset.LocalFiles.storage_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the total data size of the files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.LocalFiles.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarizes the file properties of the current dataset</p>
<p>To list all properties present in the dataset’s files, use <cite>properties</cite> class member.
This method can be used to generated personalized metadata description of the
dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>=None</em>) – A list of properties to be summarized.</p></li>
<li><p><strong>**kwargs</strong> – Alternative summarizing functions to generate the resulting dictionary.
By default, <cite>min</cite> and <cite>max</cite> values are computed. The name of summarizing
function becomes part of the name of the summarized property value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dictionary with summarized values by property and function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic simple">
<li><p>Generate file list and summary</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="s1">&#39;file</span><span class="si">{index}</span><span class="s1">.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="go">{&#39;index_min&#39;: &#39;1&#39;, &#39;index_max&#39;: &#39;3&#39;}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Create a templated metadata and render personalized description</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen.metadata</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;My title&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Dataset index from </span><span class="si">{index_min}</span><span class="s1"> to </span><span class="si">{index_max}</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
<span class="go">{&#39;upload_type&#39;: &#39;dataset&#39;,</span>
<span class="go"> &#39;title&#39;: &#39;My title&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;Dataset index from 1 to 3&#39;,</span>
<span class="go"> &#39;prereserve_doi&#39;: True}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.update_metadata">
<span class="sig-name descname"><span class="pre">update_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile"><span class="pre">LocalFile</span></a></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.update_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the metadata for all files in the dataset.</p>
<p>Iterates over all files in the dataset and updates their metadata. This ensures that
each file’s metadata (e.g. size and date) is current based on the latest available
information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current dataset with updated metadata for each file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#zen.dataset.LocalFile" title="zen.dataset.LocalFile">LocalFile</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.LocalFiles.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zen.dataset.LocalFiles.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload files to a Zenodo deposition and update files’ metadata.</p>
<p>This method enables you to upload files to a Zenodo deposition, ensuring that their metadata
is up-to-date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>progress</strong> (<em>bool=True</em>) – Whether to display a progress bar. Defaults to True.</p></li>
<li><p><strong>force</strong> (<em>bool=False</em>) – Should all files be uploaded regardless they already been
uploaded or not?</p></li>
<li><p><strong>max_retries</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of retry attempts if the upload fails.
Defaults to 15.</p></li>
<li><p><strong>min_delay</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum delay in seconds between retry attempts.
Defaults to 10 seconds.</p></li>
<li><p><strong>max_delay</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum delay in seconds between retry attempts.
Defaults to 60 seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic simple">
<li><p>Upload files to a Zenodo deposition:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">LocalFiles</span><span class="p">,</span> <span class="n">Zenodo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">LocalFiles</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s1">&#39;examples/dataset.json)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">set_deposition</span><span class="p">(</span><span class="n">Zenodo</span><span class="o">.</span><span class="n">sandbox_url</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;your_api_token&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>
</pre></div>
</div>
<p>This example uploads files to the specified Zenodo deposition (<cite>my_deposition</cite>) and
shows a progress bar during the upload. It won’t re-upload files that already exist
in the deposition.</p>
<ol class="arabic simple" start="2">
<li><p>Forcefully re-upload all files to a Zenodo deposition:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, the <cite>force</cite> parameter is set to <cite>True</cite>, which ensures that all files are
re-uploaded, even if they exist in the deposition. A progress bar is displayed during
the process.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zen.dataset.ZenodoFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zen.dataset.</span></span><span class="sig-name descname"><span class="pre">ZenodoFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deposition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><span class="pre">Deposition</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zen.dataset.ZenodoFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zen.dataset.BaseFile" title="zen.dataset.BaseFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseFile</span></code></a></p>
<p>Represents a File Associated with a Zenodo Deposition.</p>
<p>This class is designed to represent a file that is associated with a Zenodo deposition. It
extends the functionality of the <cite>BaseFile</cite> class and provides methods for refreshing file
data from Zenodo, deleting the file from Zenodo, and retrieving the checksum of the file.</p>
<p>The <cite>ZenodoFile</cite> class is tailored for files that are part of a Zenodo deposition. It is
instantiated with a dictionary representing file information and the corresponding Zenodo
deposition to which the file is linked.</p>
<p>This class offers methods to interact with Zenodo’s API, allowing you to refresh file data,
delete files from a Zenodo deposition, and retrieve checksums.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em>) – The file dictionary.</p></li>
<li><p><strong>deposition</strong> (<a class="reference internal" href="#zen.dataset.Deposition" title="zen.dataset.Deposition"><em>Deposition</em></a>) – The Zenodo deposition to which this Zenodo file belongs.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<ol class="arabic simple">
<li><p>Create a new Zenodo deposition and upload a file:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zen</span> <span class="kn">import</span> <span class="n">Zenodo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zen</span> <span class="o">=</span> <span class="n">Zenodo</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">Zenodo</span><span class="o">.</span><span class="n">sandbox_url</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;your_api_token&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span> <span class="o">=</span> <span class="n">zen</span><span class="o">.</span><span class="n">depositions</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;examples/file1.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Download a file from deposition to current directory</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zenodo_file</span> <span class="o">=</span> <span class="n">dep</span><span class="o">.</span><span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zenodo_file</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
<p>Discard the deposition example.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dep</span><span class="o">.</span><span class="n">discard</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="zen.dataset.ZenodoFile.checksum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">checksum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zen.dataset.ZenodoFile.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>The checksum of the Zenodo file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.ZenodoFile.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zen.dataset.ZenodoFile.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the file from Zenodo.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.ZenodoFile.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#zen.dataset.ZenodoFile.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a file to a local directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dirname</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>=None</em>) – The local path to download the file (default to
current directory).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path of downloaded file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If directory does not exist or file has not a valid download link.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zen.dataset.ZenodoFile.refresh">
<span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#zen.dataset.ZenodoFile.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh the file data from Zenodo.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">zen</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">zen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="api.html">api module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">dataset module</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">metadata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">utils module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">zen</a><ul>
      <li>Previous: <a href="api.html" title="previous chapter">api module</a></li>
      <li>Next: <a href="metadata.html" title="next chapter">metadata module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, OpenGeoHub.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/dataset.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>